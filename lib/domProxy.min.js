(function(a){var b,c,d,e,f,g,h,i=Object.prototype.hasOwnProperty,j=function(a,b){function d(){this.constructor=a}for(var c in b)i.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};c=function(){function a(a,b){this.element=a,this.fqn=b===""||b===void 0?this.element.id:buildFqn(b,this.element.id),this.crawl(this,this.fqn,this.element,this.crawl,this.addChild),this}return a.prototype.addChild=function(a,b,c,d){var e;return e=buildFqn(b,c),a[e]=h(d,b)},a.prototype.crawl=function(a,b,c,d,e){if(c.children!==void 0&&c.children.length>0)return _(c.children).chain().each(function(c){return e(a,b,c.id,c),d(a,b,c,d,e)})},a}(),b=function(){function a(){a.__super__.constructor.apply(this,arguments)}return j(a,c),a.prototype.write=function(a,b){var c,d,e,f,g;if(a===this.fqn){if(_.isObject(b)){g=[];for(e=0,f=b.length;e<f;e++)d=b[e],g.push(this[d].write(b[d]));return g}return $(this.element).text(b)}return c=this[a],c.write(a,b)},a}(),f=function(){function a(){a.__super__.constructor.apply(this,arguments)}return j(a,c),a.prototype.write=function(a,b){var c;return a===this.fqn?$(this.element).text(b):(c=this[a],c.write(a,b))},a}(),d=function(){function a(){a.__super__.constructor.apply(this,arguments)}return j(a,c),a.prototype.write=function(a,b){var c;return a===this.fqn?$(this.element).val(b):(c=this[a],c.write(a,b))},a}(),g=function(){function a(){a.__super__.constructor.apply(this,arguments)}return j(a,c),a.prototype.write=function(a,b){var c,d,e,f;if(a!==this.fqn)return f=this[a],f.write(a,b);c=$(this.element).children("li");if(c.length<b.length)return e=c[0],d=0,_(b).each(function(a){var b;return b=$(e).clone().attr("id",d).appendTo(element),self[fqn+"."+d]=b[0],d++})},a}(),e=function(){function a(){a.__super__.constructor.apply(this,arguments)}return j(a,c),a.prototype.write=function(a,b){if(a===this.fqn)return $(this.element).text(b)},a}(),h=function(a,c){var h;return this.div=function(a,c){return new b(a,c)},this.span=function(a,b){return new f(a,b)},this.input=function(a,b){return new d(a,b)},this.ul=function(a,b){return new g(a,b)},this.li=function(a,b){return new e(a,b)},_.isString(a)?(h=$(a)[0],this[h.tagName.toLowerCase()](h,c)):this[a.tagName.toLowerCase()](a,c)}})(window)